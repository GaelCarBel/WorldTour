{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gaelc/Desktop/examenIngWeb/gael/gael/frontend/src/app/giras/page.tsx"],"sourcesContent":["// app/giras/page.tsx\r\nimport Image from \"next/image\";\r\n\r\nexport const dynamic = \"force-dynamic\"; // avoid caching in dev\r\n\r\ntype Gira = {\r\n  _id: string;\r\n  grupo: string;\r\n  posterUri: string;\r\n  conciertos?: string[];\r\n  creador: string;\r\n  fechaCreacion?: string;\r\n};\r\n\r\nasync function getGiras(): Promise<Gira[]> {\r\n  const base = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080\";\r\n  const url = new URL(\"/api/giras\", base).toString(); // <-- IMPORTANT\r\n\r\n  const res = await fetch(url, { cache: \"no-store\" });\r\n  if (!res.ok) {\r\n    // helpful error\r\n    const text = await res.text().catch(() => \"\");\r\n    throw new Error(`Error fetching giras (${res.status}). ${text}`);\r\n  }\r\n\r\n  return res.json();\r\n}\r\n\r\nexport default async function GirasPage() {\r\n  const giras = await getGiras();\r\n\r\n  return (\r\n    <main className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <div className=\"flex items-end justify-between mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-white\">Giras</h1>\r\n        <p className=\"text-slate-300 text-sm\">\r\n          Total: <span className=\"font-semibold\">{giras.length}</span>\r\n        </p>\r\n      </div>\r\n\r\n      {!giras.length ? (\r\n        <div className=\"bg-slate-900/60 border border-slate-800 rounded-xl p-6 text-slate-300\">\r\n          No hay giras todav√≠a.\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid gap-5 sm:grid-cols-2 lg:grid-cols-3\">\r\n          {giras.map((g) => (\r\n            <div\r\n              key={g._id}\r\n              className=\"bg-slate-900/60 border border-slate-800 rounded-2xl overflow-hidden shadow\"\r\n            >\r\n              <div className=\"relative w-full h-56\">\r\n                <Image\r\n                  src={g.posterUri}\r\n                  alt={g.grupo}\r\n                  fill\r\n                  className=\"object-cover\"\r\n                  sizes=\"(max-width: 1024px) 50vw, 33vw\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"p-4\">\r\n                <h2 className=\"text-lg font-semibold text-white\">{g.grupo}</h2>\r\n\r\n                <div className=\"mt-2 text-sm text-slate-300 space-y-1\">\r\n                  <div>\r\n                    Conciertos:{\" \"}\r\n                    <span className=\"font-medium text-slate-100\">\r\n                      {Array.isArray(g.conciertos) ? g.conciertos.length : 0}\r\n                    </span>\r\n                  </div>\r\n                  <div>\r\n                    Creador:{\" \"}\r\n                    <span className=\"font-medium text-slate-100\">{g.creador}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-4\">\r\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-600/20 text-purple-200 border border-purple-600/30\">\r\n                    Tour\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA,qBAAqB;AACrB;;;AAEO,MAAM,UAAU,iBAAiB,uBAAuB;AAW/D,eAAe;IACb,MAAM,OAAO,iEAAmC;IAChD,MAAM,MAAM,IAAI,IAAI,cAAc,MAAM,QAAQ,IAAI,gBAAgB;IAEpE,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,OAAO;IAAW;IACjD,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,gBAAgB;QAChB,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC1C,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,IAAI,MAAM,CAAC,GAAG,EAAE,MAAM;IACjE;IAEA,OAAO,IAAI,IAAI;AACjB;AAEe,eAAe;IAC5B,MAAM,QAAQ,MAAM;IAEpB,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAgC;;;;;;kCAC9C,8OAAC;wBAAE,WAAU;;4BAAyB;0CAC7B,8OAAC;gCAAK,WAAU;0CAAiB,MAAM,MAAM;;;;;;;;;;;;;;;;;;YAIvD,CAAC,MAAM,MAAM,iBACZ,8OAAC;gBAAI,WAAU;0BAAwE;;;;;qCAIvF,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,wIAAK;oCACJ,KAAK,EAAE,SAAS;oCAChB,KAAK,EAAE,KAAK;oCACZ,IAAI;oCACJ,WAAU;oCACV,OAAM;;;;;;;;;;;0CAIV,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAoC,EAAE,KAAK;;;;;;kDAEzD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;oDAAI;oDACS;kEACZ,8OAAC;wDAAK,WAAU;kEACb,MAAM,OAAO,CAAC,EAAE,UAAU,IAAI,EAAE,UAAU,CAAC,MAAM,GAAG;;;;;;;;;;;;0DAGzD,8OAAC;;oDAAI;oDACM;kEACT,8OAAC;wDAAK,WAAU;kEAA8B,EAAE,OAAO;;;;;;;;;;;;;;;;;;kDAI3D,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDAAmI;;;;;;;;;;;;;;;;;;uBA9BlJ,EAAE,GAAG;;;;;;;;;;;;;;;;AAyCxB"}}]
}